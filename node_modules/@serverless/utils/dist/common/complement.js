"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _curry = _interopRequireDefault(require("./curry"));

var _isFunction = _interopRequireDefault(require("../lang/isFunction"));

var _isPromise = _interopRequireDefault(require("../lang/isPromise"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * returns a new function that logically nots the returned value and returns that as the result.
 *
 * Auto-curried for placeholder support
 *
 * @function
 * @since v0.0.10
 * @category common
 * @param {Function} fn The function to complement
 * @returns {Function} The complemented function
 * @example
 *
 * const isEven = (value) => value % 2 === 0
 * const isOdd = complement(isEven)
 * isOdd(1) //=> true
 */
const complement = (0, _curry.default)(fn => {
  if (!(0, _isFunction.default)(fn)) {
    throw new TypeError(`Expected 'fn' parameter to be a function. Instead received ${fn}.`);
  }

  return function () {
    const result = fn.apply(this, arguments);

    if ((0, _isPromise.default)(result)) {
      return result.then(resolvedResult => !resolvedResult);
    }

    return !result;
  };
});
var _default = complement;
exports.default = _default;
//# sourceMappingURL=complement.js.map