{"version":3,"sources":["../../src/common/compose.js"],"names":["compose","functions","length","identity","lastFunc","rest","args","composed","func"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA;;;;;;;;;;;;;;;;;;;AAmBA,MAAMA,OAAO,GAAG,CAAC,GAAGC,SAAJ,KAAkB;AAChCA,EAAAA,SAAS,GAAG,2BAAaA,SAAb,CAAZ;AADgC,qBAEbA,SAFa;AAAA,QAExBC,MAFwB,cAExBA,MAFwB;;AAGhC,MAAIA,MAAM,KAAK,CAAf,EAAkB;AAChB,WAAOC,iBAAP;AACD;;AAED,MAAID,MAAM,KAAK,CAAf,EAAkB;AAChB,WAAOD,SAAS,CAAC,CAAD,CAAhB;AACD;;AAED,QAAMG,QAAQ,GAAGH,SAAS,CAACC,MAAM,GAAG,CAAV,CAA1B;AACA,QAAMG,IAAI,GAAG,6BAAeJ,SAAf,EAA0B,CAA1B,EAA6BC,MAAM,GAAG,CAAtC,CAAb;AAEA,SAAO,CAAC,GAAGI,IAAJ,KACL,mCAAqBD,IAArB,EAA2BD,QAAQ,CAAC,GAAGE,IAAJ,CAAnC,EAA8C,CAACC,QAAD,EAAWC,IAAX,KAAoBA,IAAI,CAACD,QAAD,CAAtE,CADF;AAED,CAhBD;;eAkBeP,O","sourcesContent":["import arrayFlatten from '../lang/arrayFlatten'\nimport arrayLikeReduceRight from '../lang/arrayLikeReduceRight'\nimport arrayLikeSlice from '../lang/arrayLikeSlice'\nimport identity from './identity'\n\n/**\n * Performs right-to-left function composition. The rightmost function may have any arity; the remaining functions must be unary.\n *\n * **Note:** The result of compose is not automatically curried.\n *\n * @function\n * @since v0.0.10\n * @category common\n * @param {...Function} functions The functions to compose\n * @returns {Function}\n * @example\n *\n * const classyGreeting = (firstName, lastName) => \"The name's \" + lastName + \", \" + firstName + \" \" + lastName\n * const yellGreeting = compose(toUpper, classyGreeting)\n * yellGreeting('James', 'Bond')\n * //=> \"THE NAME'S BOND, JAMES BOND\"\n *\n * compose(Math.abs, add(1), multiply(2))(-4) //=> 7\n */\nconst compose = (...functions) => {\n  functions = arrayFlatten(functions)\n  const { length } = functions\n  if (length === 0) {\n    return identity\n  }\n\n  if (length === 1) {\n    return functions[0]\n  }\n\n  const lastFunc = functions[length - 1]\n  const rest = arrayLikeSlice(functions, 0, length - 1)\n\n  return (...args) =>\n    arrayLikeReduceRight(rest, lastFunc(...args), (composed, func) => func(composed))\n}\n\nexport default compose\n"],"file":"compose.js"}