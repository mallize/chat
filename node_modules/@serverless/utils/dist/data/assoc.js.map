{"version":3,"sources":["../../src/data/assoc.js"],"names":["baseAssoc","selector","value","collection","parts","dispatchableAssoc","assoc","resolvedSelector","resolvedCollection"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,SAAS,GAAG,CAACC,QAAD,EAAWC,KAAX,EAAkBC,UAAlB,KAAiC;AACjD,MAAI,0BAAYF,QAAZ,CAAJ,EAA2B;AACzB,WAAOC,KAAP;AACD;;AACD,MAAI,yBAAWD,QAAX,CAAJ,EAA0B;AACxB,WAAO,mBAAKA,QAAL,EAAe,qBAAOC,KAAP,CAAf,EAA8BC,UAA9B,CAAP;AACD;;AACD,MAAIC,KAAK,GAAGH,QAAZ;;AACA,MAAI,CAAC,sBAAQA,QAAR,CAAL,EAAwB;AACtBG,IAAAA,KAAK,GAAG,uBAASH,QAAT,EAAmBE,UAAnB,CAAR;AACD;;AACD,SAAO,wBAAUC,KAAV,EAAiBF,KAAjB,EAAwBC,UAAxB,CAAP;AACD,CAZD;;;AAcA,MAAME,iBAAiB,GAAG,2BAAa,OAAb,EAAsBL,SAAtB,CAA1B;AAEA;;;;;;;;;;;;;;;;;;;;;AAmBA,MAAMM,KAAK,GAAG,oBAAM,CAACL,QAAD,EAAWC,KAAX,EAAkBC,UAAlB,KAClB,sBACE,CAAC,CAACI,gBAAD,EAAmBC,kBAAnB,CAAD,KACEH,iBAAiB,CAACE,gBAAD,EAAmBL,KAAnB,EAA0BM,kBAA1B,CAFrB,EAGE,CAACP,QAAD,EAAWE,UAAX,CAHF,CADY,CAAd;eAQeG,K","sourcesContent":["import allWith from '../common/allWith'\nimport always from './always'\nimport assocPath from './assocPath'\nimport castPath from './castPath'\nimport curry from '../common/curry'\nimport dispatchable from '../common/dispatchable'\nimport isArray from '../lang/isArray'\nimport isFunction from '../lang/isFunction'\nimport isUndefined from '../lang/isUndefined'\nimport over from './over'\n\nconst baseAssoc = (selector, value, collection) => {\n  if (isUndefined(selector)) {\n    return value\n  }\n  if (isFunction(selector)) {\n    return over(selector, always(value), collection)\n  }\n  let parts = selector\n  if (!isArray(selector)) {\n    parts = castPath(selector, collection)\n  }\n  return assocPath(parts, value, collection)\n}\n\nconst dispatchableAssoc = dispatchable('assoc', baseAssoc)\n\n/**\n * Makes a shallow clone of an object, setting or overriding the specified property with the given value. Note that this copies and flattens prototype properties onto the new object as well. All non-primitive properties are copied by reference.\n *\n * Supports path based property selectors 'foo.bar' and functional selectors which performs an over on the entire collection and sets each matching selector to the given value.\n *\n * @function\n * @since v0.0.3\n * @category data\n * @sig String -> a -> {k: v} -> {k: v}\n * @param {Array | String | Function} selector The property path to set or functional selector\n * @param {*} value The new value\n * @param {*} collection The collection to clone and assign the new value\n * @returns {*} A new collection equivalent to the original except for the changed selector path.\n * @example\n *\n * assoc('c', 3, {a: 1, b: 2})          //=> {a: 1, b: 2, c: 3}\n * assoc('c.d', 3, {a: 1, b: 2})        //=> {a: 1, b: 2, c: { d: 3 }}\n * assoc([ 'c', 'd' ], 3, {a: 1, b: 2}) //=> {a: 1, b: 2, c: { d: 3 }}\n */\nconst assoc = curry((selector, value, collection) =>\n  allWith(\n    ([resolvedSelector, resolvedCollection]) =>\n      dispatchableAssoc(resolvedSelector, value, resolvedCollection),\n    [selector, collection]\n  )\n)\n\nexport default assoc\n\nexport { baseAssoc, dispatchableAssoc }\n"],"file":"assoc.js"}