{"version":3,"sources":["../../src/data/findKdx.js"],"names":["findKdx","fn","collection","next","pNext","done","value","kdx","result"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,MAAMA,OAAO,GAAG,oBACd,mBAAK,SAAL,EAAgB,CAACC,EAAD,EAAKC,UAAL,KACd,sBACGC,IAAD,IACE,mBACGC,KAAD,IAAW;AACT,MAAIA,KAAK,CAACC,IAAV,EAAgB;AACd,WAAOD,KAAP;AACD;;AACD,SAAOH,EAAE,CAACG,KAAK,CAACE,KAAP,EAAcF,KAAK,CAACG,GAApB,CAAT;AACD,CANH,EAOGC,MAAD,IAAY;AACV,MAAIA,MAAJ,EAAY;AACV,6BACKL,IADL;AAEEG,MAAAA,KAAK,EAAEH,IAAI,CAACI,GAFd;AAGEF,MAAAA,IAAI,EAAE;AAHR;AAKD;;AACD,SAAOF,IAAP;AACD,CAhBH,EAiBEA,IAjBF,CAFJ,EAoBED,UApBF,CADF,CADc,CAAhB;eA2BeF,O","sourcesContent":["import curry from '../common/curry'\nimport defn from '../common/defn'\nimport iterate from '../common/iterate'\nimport pipe from '../common/pipe'\n\n/**\n * Returns the kdx of the first element of the collection which matches the predicate, or `undefined` if no element matches.\n *\n * Dispatches to the `findkdx` method of the `collection` argument, if present.\n *\n * Supports async predicates. If a predicate returns a Promise than the entire method will upgrade to async and return a Promise.\n *\n * @function\n * @since v0.0.15\n * @category data\n * @param {Function} fn The predicate function used to determine if the element is the desired one.\n * @param {Array} collection The collection to consider.\n * @returns {*|Promise} The key or index found, or `undefined`.\n * @example\n *\n * findKdx(\n *   (value, index) => value[index] == 2,\n *   [{a: 1}, {a: 2}, {a: 3}]\n * )\n * //=> 1\n *\n * findKdx(\n *   (value, key) => value[key] == 2,\n *   { a: 1, b: 2, c: 3 }\n * )\n * //=> 'b'\n */\nconst findKdx = curry(\n  defn('findKdx', (fn, collection) =>\n    iterate(\n      (next) =>\n        pipe(\n          (pNext) => {\n            if (pNext.done) {\n              return pNext\n            }\n            return fn(pNext.value, pNext.kdx)\n          },\n          (result) => {\n            if (result) {\n              return {\n                ...next,\n                value: next.kdx,\n                done: true\n              }\n            }\n            return next\n          }\n        )(next),\n      collection\n    )\n  )\n)\n\nexport default findKdx\n"],"file":"findKdx.js"}