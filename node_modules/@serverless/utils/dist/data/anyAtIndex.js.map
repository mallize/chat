{"version":3,"sources":["../../src/data/anyAtIndex.js"],"names":["anyAtIndex","fn","index","list","length","idx","result","then","resolvedResult"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,MAAMA,UAAU,GAAG,oBACjB,mBAAK,YAAL,EAAmB,CAACC,EAAD,EAAKC,KAAL,EAAYC,IAAZ,KAAqB;AACtC,MAAI,CAAC,0BAAYA,IAAZ,CAAL,EAAwB;AACtB,UAAM,kCAAoB,WAApB,EAAiCA,IAAjC,CAAN;AACD;;AAHqC,QAI9BC,MAJ8B,GAInBD,IAJmB,CAI9BC,MAJ8B;AAKtC,MAAIC,GAAG,GAAGH,KAAK,IAAI,CAAnB;;AACA,MAAIG,GAAG,GAAG,CAAV,EAAa;AACXA,IAAAA,GAAG,GAAGD,MAAM,GAAGC,GAAf;AACD;;AACD,MAAIA,GAAG,GAAG,CAAV,EAAa;AACXA,IAAAA,GAAG,GAAG,CAAN;AACD;;AAED,SAAOA,GAAG,GAAGD,MAAb,EAAqB;AACnB,UAAME,MAAM,GAAGL,EAAE,CAACE,IAAI,CAACE,GAAD,CAAL,EAAYA,GAAZ,CAAjB;;AACA,QAAI,wBAAUC,MAAV,CAAJ,EAAuB;AACrB,aAAOA,MAAM,CAACC,IAAP,CAAaC,cAAD,IAAoB;AACrC,YAAIA,cAAJ,EAAoB;AAClB,iBAAO,IAAP;AACD;;AACD,eAAOR,UAAU,CAACC,EAAD,EAAKI,GAAG,GAAG,CAAX,EAAcF,IAAd,CAAjB;AACD,OALM,CAAP;AAMD,KAPD,MAOO,IAAIG,MAAJ,EAAY;AACjB,aAAO,IAAP;AACD;;AACDD,IAAAA,GAAG,IAAI,CAAP;AACD;;AACD,SAAO,KAAP;AACD,CA5BD,CADiB,CAAnB;eAgCeL,U","sourcesContent":["import curry from '../common/curry'\nimport defn from '../common/defn'\nimport errorUnexpectedType from './errors/errorUnexpectedType'\nimport isArrayLike from '../lang/isArrayLike'\nimport isPromise from '../lang/isPromise'\n\n/**\n * Returns `true` if at least one of elements of the list match the predicate starting at the given index, `false` otherwise.\n *\n * Dispatches to the `anyAtIndex` method of the list argument, if present.\n *\n * Supports async predicates. If a predicate returns a Promise than the entire method will upgrade to async and return a Promise.\n *\n * @function\n * @since v0.0.3\n * @category data\n * @sig (a -> Boolean) -> [a] -> Boolean\n * @param {Function} fn The predicate function.\n * @param {Integer} index The index to start at.\n * @param {Array} list The array to consider.\n * @returns {Boolean} `true` if the predicate is satisfied by at least one element, `false`\n *         otherwise.\n * @example\n *\n * const lessThan0 = flip(lt)(0)\n * const lessThan2 = flip(lt)(2)\n * anyAtIndex(lessThan0, 0, [3, 2, 1]) //=> false\n * anyAtIndex(lessThan2, 1, [3, 2, 1]) //=> true\n *\n * await anyAtIndex(async (value) => lessThan2(value), 0, [1, 2]) //=> true\n */\nconst anyAtIndex = curry(\n  defn('anyAtIndex', (fn, index, list) => {\n    if (!isArrayLike(list)) {\n      throw errorUnexpectedType('ArrayLike', list)\n    }\n    const { length } = list\n    let idx = index || 0\n    if (idx < 0) {\n      idx = length + idx\n    }\n    if (idx < 0) {\n      idx = 0\n    }\n\n    while (idx < length) {\n      const result = fn(list[idx], idx)\n      if (isPromise(result)) {\n        return result.then((resolvedResult) => {\n          if (resolvedResult) {\n            return true\n          }\n          return anyAtIndex(fn, idx + 1, list)\n        })\n      } else if (result) {\n        return true\n      }\n      idx += 1\n    }\n    return false\n  })\n)\n\nexport default anyAtIndex\n"],"file":"anyAtIndex.js"}