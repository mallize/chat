{"version":3,"sources":["../../src/lang/arrayLikeReduce.js"],"names":["generatorReduce","arrayLike","accum","iteratee","index","length","doArrayLikeReduce","then","resolvedAccum","arrayLikeReduce","TypeError"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,eAAe,GAAG,UAAlBA,eAAkB,CAAUC,SAAV,EAAqBC,KAArB,EAA4BC,QAA5B,EAAsCC,KAAtC,EAA6C;AACnE,MAAI,0BAAYF,KAAZ,CAAJ,EAAwB;AACtBA,IAAAA,KAAK,GAAG,OAAOA,KAAf;AACD;;AAHkE,QAI3DG,MAJ2D,GAIhDJ,SAJgD,CAI3DI,MAJ2D;;AAKnE,SAAOD,KAAK,GAAGC,MAAf,EAAuB;AACrBH,IAAAA,KAAK,GAAGC,QAAQ,CAACD,KAAD,EAAQD,SAAS,CAACG,KAAD,CAAjB,EAA0BA,KAA1B,CAAhB;;AACA,QAAI,0BAAYF,KAAZ,CAAJ,EAAwB;AACtBA,MAAAA,KAAK,GAAG,OAAOA,KAAf;AACD,KAFD,MAEO,IAAI,wBAAUA,KAAV,CAAJ,EAAsB;AAC3BA,MAAAA,KAAK,GAAG,MAAMA,KAAd;AACD;;AACDE,IAAAA,KAAK,IAAI,CAAT;AACD;;AACD,SAAOF,KAAP;AACD,CAfD;;AAiBA,MAAMI,iBAAiB,GAAG,CAACL,SAAD,EAAYC,KAAZ,EAAmBC,QAAnB,EAA6BC,KAAK,GAAG,CAArC,KAA2C;AAAA,QAC3DC,MAD2D,GAChDJ,SADgD,CAC3DI,MAD2D;;AAEnE,MAAI,wBAAUH,KAAV,CAAJ,EAAsB;AACpB,WAAOA,KAAK,CAACK,IAAN,CAAYC,aAAD,IAChBF,iBAAiB,CAACL,SAAD,EAAYO,aAAZ,EAA2BL,QAA3B,EAAqCC,KAArC,CADZ,CAAP;AAGD,GAJD,MAIO,IAAI,0BAAYF,KAAZ,CAAJ,EAAwB;AAC7B,WAAOF,eAAe,CAACC,SAAD,EAAYC,KAAZ,EAAmBC,QAAnB,EAA6BC,KAA7B,CAAtB;AACD;;AACD,SAAOA,KAAK,GAAGC,MAAf,EAAuB;AACrBH,IAAAA,KAAK,GAAGC,QAAQ,CAACD,KAAD,EAAQD,SAAS,CAACG,KAAD,CAAjB,EAA0BA,KAA1B,CAAhB;;AACA,QAAI,wBAAUF,KAAV,CAAJ,EAAsB;AACpB,aAAOA,KAAK,CAACK,IAAN,CAAYC,aAAD,IAChBF,iBAAiB,CAACL,SAAD,EAAYO,aAAZ,EAA2BL,QAA3B,EAAqCC,KAAK,GAAG,CAA7C,CADZ,CAAP;AAGD,KAJD,MAIO,IAAI,0BAAYF,KAAZ,CAAJ,EAAwB;AAC7B,aAAOF,eAAe,CAACC,SAAD,EAAYC,KAAZ,EAAmBC,QAAnB,EAA6BC,KAAK,GAAG,CAArC,CAAtB;AACD;;AACDA,IAAAA,KAAK,IAAI,CAAT;AACD;;AACD,SAAOF,KAAP;AACD,CArBD;;AAuBA,MAAMO,eAAe,GAAG,CAACR,SAAD,EAAYC,KAAZ,EAAmBC,QAAnB,EAA6BC,KAAK,GAAG,CAArC,KAA2C;AACjE,MAAI,CAAC,0BAAYH,SAAZ,CAAL,EAA6B;AAC3B,UAAM,IAAIS,SAAJ,CACH,qEAAoET,SAAU,EAD3E,CAAN;AAGD;;AALgE,QAMzDI,MANyD,GAM9CJ,SAN8C,CAMzDI,MANyD;AAOjED,EAAAA,KAAK,GAAG,6BAAeA,KAAf,EAAsBC,MAAtB,CAAR;AACA,SAAOC,iBAAiB,CAACL,SAAD,EAAYC,KAAZ,EAAmBC,QAAnB,EAA6BC,KAA7B,CAAxB;AACD,CATD;;eAWeK,e","sourcesContent":["import indexEndOffset from './indexEndOffset'\nimport isArrayLike from './isArrayLike'\nimport isGenerator from './isGenerator'\nimport isPromise from './isPromise'\n\nconst generatorReduce = function*(arrayLike, accum, iteratee, index) {\n  if (isGenerator(accum)) {\n    accum = yield* accum\n  }\n  const { length } = arrayLike\n  while (index < length) {\n    accum = iteratee(accum, arrayLike[index], index)\n    if (isGenerator(accum)) {\n      accum = yield* accum\n    } else if (isPromise(accum)) {\n      accum = yield accum\n    }\n    index += 1\n  }\n  return accum\n}\n\nconst doArrayLikeReduce = (arrayLike, accum, iteratee, index = 0) => {\n  const { length } = arrayLike\n  if (isPromise(accum)) {\n    return accum.then((resolvedAccum) =>\n      doArrayLikeReduce(arrayLike, resolvedAccum, iteratee, index)\n    )\n  } else if (isGenerator(accum)) {\n    return generatorReduce(arrayLike, accum, iteratee, index)\n  }\n  while (index < length) {\n    accum = iteratee(accum, arrayLike[index], index)\n    if (isPromise(accum)) {\n      return accum.then((resolvedAccum) =>\n        doArrayLikeReduce(arrayLike, resolvedAccum, iteratee, index + 1)\n      )\n    } else if (isGenerator(accum)) {\n      return generatorReduce(arrayLike, accum, iteratee, index + 1)\n    }\n    index += 1\n  }\n  return accum\n}\n\nconst arrayLikeReduce = (arrayLike, accum, iteratee, index = 0) => {\n  if (!isArrayLike(arrayLike)) {\n    throw new TypeError(\n      `arrayLikeReduce expected an array like value. Instead it received ${arrayLike}`\n    )\n  }\n  const { length } = arrayLike\n  index = indexEndOffset(index, length)\n  return doArrayLikeReduce(arrayLike, accum, iteratee, index)\n}\n\nexport default arrayLikeReduce\n"],"file":"arrayLikeReduce.js"}