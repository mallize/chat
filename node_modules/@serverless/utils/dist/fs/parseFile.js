"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _jsYaml = _interopRequireDefault(require("js-yaml"));

var _curryN = _interopRequireDefault(require("../common/curryN"));

var _isJsonPath = _interopRequireDefault(require("./isJsonPath"));

var _isYamlPath = _interopRequireDefault(require("./isYamlPath"));

var _merge = _interopRequireDefault(require("../data/merge"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const parseFile = (0, _curryN.default)(2, (filePath, contents, options = {}) => {
  if ((0, _isJsonPath.default)(filePath)) {
    return JSON.parse(contents);
  } else if ((0, _isYamlPath.default)(filePath)) {
    return _jsYaml.default.load(contents.toString(), (0, _merge.default)(options, {
      filename: filePath
    }));
  } else if (filePath.endsWith('.slsignore')) {
    return contents.toString().split('\n');
  }

  return contents.toString().trim();
});
var _default = parseFile;
exports.default = _default;
//# sourceMappingURL=parseFile.js.map